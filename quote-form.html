<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Get a Quote - Sioux Clean Solutions</title>
</head>
<body style="font-family: Arial, sans-serif; background-color: #f5f5f5; margin: 0; padding: 0;">
    <div style="max-width: 600px; margin: 50px auto; background-color: white; padding: 30px; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1);">
        <h1 style="text-align: center; color: #333;">Get a Quote</h1>
        <form id="quote-form" action="https://getform.io/f/14d70b0f-d27f-42e1-9d8d-e978fb8f868e" method="POST">
            <label for="name" style="display:block; margin-bottom: 5px;">Name:</label>
            <input type="text" id="name" name="name" required style="width:100%; padding: 10px; margin-bottom: 15px;">

            <label for="email" style="display:block; margin-bottom: 5px;">Email:</label>
            <input type="email" id="email" name="email" required style="width:100%; padding: 10px; margin-bottom: 15px;">

            <label for="address" style="display:block; margin-bottom: 5px;">Address:</label>
            <input type="text" id="address" name="address" required style="width:100%; padding: 10px; margin-bottom: 15px;">

            <label for="phone" style="display:block; margin-bottom: 5px;">Phone:</label>
            <input type="tel" id="phone" name="phone" required style="width:100%; padding: 10px; margin-bottom: 15px;">

            <label for="message" style="display:block; margin-bottom: 5px;">Message:</label>
            <textarea id="message" name="message" rows="4" style="width:100%; padding: 10px; margin-bottom: 15px;" placeholder="Let us know how many rooms, square footage, and type of service you need..."></textarea>

            <button type="submit" style="width:100%; padding: 12px; background-color: #28a745; color: white; border: none; border-radius: 4px; font-size: 16px;">Submit Quote Request</button>
        </form>

        <!-- Hidden Quote Response Section -->
        <div id="quote-response" style="display:none; text-align:center; margin-top:20px;">
            <h3>Would you like to accept this quote?</h3>
            <button id="accept-quote" style="margin: 10px; padding: 12px 20px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer;">Accept Quote</button>
            <button id="decline-quote" style="margin: 10px; padding: 12px 20px; background-color: #dc3545; color: white; border: none; border-radius: 4px; cursor: pointer;">Decline Quote</button>
        </div>

        <!-- Hidden Form to Trigger Email on Accept -->
        <form id="accept-form" action="https://getform.io/f/YOUR_ACCEPT_QUOTE_ENDPOINT" method="POST" style="display: none;">
            <input type="hidden" name="message" value="The quote has been accepted.">
            <input type="email" name="user-email" id="user-email" value="">
        </form>
    </div>

    <script>
        const form = document.getElementById('quote-form');
        const quoteResponse = document.getElementById('quote-response');
        const acceptForm = document.getElementById('accept-form');
        const userEmailInput = document.getElementById('user-email');

        form.addEventListener('submit', function (e) {
            e.preventDefault();
            const formData = new FormData(form);

            fetch(form.action, {
                method: 'POST',
                body: formData
            }).then(response => {
                if (response.ok) {
                    form.style.display = 'none';
                    quoteResponse.style.display = 'block';
                    const email = document.getElementById('email').value;
                    userEmailInput.value = email;
                } else {
                    alert('There was an error submitting the form.');
                }
            }).catch(error => {
                alert('Form submission failed. Try again later.');
            });
        });

        document.getElementById('accept-quote').addEventListener('click', function () {
            acceptForm.submit();
        });

        document.getElementById('decline-quote').addEventListener('click', function () {
            window.close();
        });
    </script>
</body>
</html>
